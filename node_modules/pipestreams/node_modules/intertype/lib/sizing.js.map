{
  "version": 3,
  "file": "sizing.js",
  "sourceRoot": "..",
  "sources": [
    "src/sizing.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'INTERTYPE/SIZING'\ndebug                     = CND.get_logger 'debug',     badge\nalert                     = CND.get_logger 'alert',     badge\nwhisper                   = CND.get_logger 'whisper',   badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\ninfo                      = CND.get_logger 'info',      badge\n#...........................................................................................................\n{ assign\n  jr\n  flatten\n  xrpr\n  js_type_of }            = require './helpers'\n\n\n#===========================================================================================================\n# OBJECT SIZES\n#-----------------------------------------------------------------------------------------------------------\n@_sizeof_method_from_spec = ( type, spec ) ->\n  do ( s = spec.size ) =>\n    return null unless s?\n    switch T = js_type_of s\n      when 'string'   then return ( x ) -> x[ s ]   ### TAINT allows empty strings ###\n      when 'function' then return s                 ### TAINT disallows async funtions ###\n      when 'number'   then return -> s              ### TAINT allows NaN, Infinity ###\n    throw new Error \"µ30988 expected null, a text or a function for size of #{type}, got a #{T}\"\n\n#-----------------------------------------------------------------------------------------------------------\n@size_of = ( x, P... ) ->\n  ### The `size_of()` method uses a per-type configurable methodology to return the size of a given value;\n  such methodology may permit or necessitate passing additional arguments (such as `size_of text`, which\n  comes in several flavors depending on whether bytes or codepoints are to be counted). As such, it is a\n  model for how to implement Go-like method dispatching. ###\n  # debug 'µ44744', [ x, P, ]\n  type = @type_of x\n  unless ( @isa.function ( getter = @specs[ type ]?.size ) )\n    throw new Error \"µ88793 unable to get size of a #{type}\"\n  return getter x, P...\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT faulty implementation:\n  * does not use size_of but length\n  * does not accept additional arguments as needed for texts\n  * risks to break codepoints apart\n  ###\n@first_of   = ( collection ) -> collection[ 0 ]\n@last_of    = ( collection ) -> collection[ collection.length - 1 ]\n\n#-----------------------------------------------------------------------------------------------------------\n@arity_of = ( x ) ->\n  unless ( type = @supertype_of x ) is 'callable'\n    throw new Error \"µ88733 expected a callable, got a #{type}\"\n  return x.length\n\n#-----------------------------------------------------------------------------------------------------------\n@has_size = ( x ) -> @isa.function @specs[ @type_of x ]?.size\n\n\n"
  ]
}